<div id="fund" ng-init="init()">
    <p style="margin-bottom:0;"><i class="fa fa-fw fa-info-circle" aria-hidden="true"></i> Fund is disabled if the project has already been funded.</p>
    <p style="margin-bottom:0;"><i class="fa fa-fw fa-info-circle" aria-hidden="true"></i> Send is disabled if funds have already been sent to the promotional wallets or if the project hasn't been funded.</p>
    <p><i class="fa fa-fw fa-info-circle" aria-hidden="true"></i> Print is disabled if funds haven't been sent to the promotional wallets.</p>
    
    <div id="projectList">
        <h4>Projects</h4>
        
        <table id="tableHeading" class="table">
            <tr>
                <td class="nameCol">
                    <strong>Name</strong>
                    <i class="fa fa-fw fa-sort-alpha-asc" title="Sort A to Z" ng-show="$mainCtrl.nameSortFlag == -1" ng-click="$mainCtrl.updateSortOptions('name', false)"></i>
                    <i class="fa fa-fw fa-sort-alpha-desc" title="Sort Z to A" ng-show="$mainCtrl.nameSortFlag == 1" ng-click="$mainCtrl.updateSortOptions('name', true)"></i>
                </td>
                <td class="numAddrCol text-center"><strong>Total Addresses</strong></td>
                <td class="totalFundsCol text-center">
                    <strong>Total SMART</strong>
                    <i class="fa fa-fw fa-sort-numeric-asc" title="Sort 0 to 9" ng-show="$mainCtrl.totalFundsSortFlag == -1" ng-click="$mainCtrl.updateSortOptions('totalFunds', false)"></i>
                    <i class="fa fa-fw fa-sort-numeric-desc" title="Sort 9 to 0" ng-show="$mainCtrl.totalFundsSortFlag == 1" ng-click="$mainCtrl.updateSortOptions('totalFunds', true)"></i>
                </td>
                <td class="addrAmtCol text-center">
                    <strong>SMART per Address</strong>
                    <i class="fa fa-fw fa-sort-numeric-asc" title="Sort 0 to 9" ng-show="$mainCtrl.addrAmtSortFlag == -1" ng-click="$mainCtrl.updateSortOptions('addrAmt', false)"></i>
                    <i class="fa fa-fw fa-sort-numeric-desc" title="Sort 9 to 0" ng-show="$mainCtrl.addrAmtSortFlag == 1" ng-click="$mainCtrl.updateSortOptions('addrAmt', true)"></i>
                </td>
                <td class="expCol text-center">
                    <strong>Auto Sweep Date</strong>
                    <i class="fa fa-fw fa-sort-numeric-asc" title="Sort 0 to 9" ng-show="$mainCtrl.sweepDateSortFlag == -1" ng-click="$mainCtrl.updateSortOptions('sweepDate', false)"></i>
                    <i class="fa fa-fw fa-sort-numeric-desc" title="Sort 9 to 0" ng-show="$mainCtrl.sweepDateSortFlag == 1" ng-click="$mainCtrl.updateSortOptions('sweepDate', true)"></i>
                </td>
                <td class="fundCol text-center"><strong>Fund</strong></td>
                <td class="sendCol text-center"><strong>Send</strong></td>
                <td class="printCol text-center"><strong>Print Wallets</strong></td>
                <td class="editCol text-center"><strong>Edit</strong></td>
            </tr>

            <tr id="project.id" ng-class="{active: $fundCtrl.activeProjectID == project.id}" ng-model="$fundCtrl.availableProjects" ng-repeat="project in $fundCtrl.availableProjects | orderBy: $mainCtrl.sortOptions.property : $mainCtrl.sortOptions.reverse : $mainCtrl.naturalSort track by project.id">
                <td colspan="9" style="padding:0;">
                    <p style="display:none;">project.projectFunded: {{project.projectFunded}}</p>
                    
                    <table class="innerTable">
                        <tr>
                            <td class="nameCol">{{project.name}} <span ng-hide="project.txConfirmed === undefined">(<span ng-show="!project.txConfirmed">pending</span><span ng-show="project.txConfirmed">confirmed</span>)</span></td>
                            
                            <td class="numAddrCol text-center">{{project.numAddr}}</td>
                            
                            <td class="totalFundsCol text-center">{{project.originalFunds || 0 | toFixedNum: 8}}</td>
                            
                            <td class="addrAmtCol text-center">{{project.addrAmt || 0 | toFixedNum: 8}}</td>
                            
                            <td class="expCol text-center"><span ng-show="project.sweepDate">{{project.sweepDate | date: 'mediumDate'}}</span><span ng-show="!project.sweepDate">n/a</span></td>
                            
                            <td class="fundCol text-center"><button class="btn btn-link" title="Fund project" ng-click="$fundCtrl.fundProject(project)" ng-disabled="project.projectFunded || !$mainCtrl.isOnline || !$mainCtrl.coreRunning || $mainCtrl.coreError || !$mainCtrl.rpcConnected || $mainCtrl.rpcError"><i class="fa fa-fw sigma">Î£</i></button></td>
                            
                            <td class="sendCol text-center"><button class="btn btn-link" title="Send funds to wallets" ng-click="$fundCtrl.sendFunds(project)" ng-disabled="!project.projectFunded || project.fundsSent || !$mainCtrl.isOnline || !$mainCtrl.coreRunning || $mainCtrl.coreError || !$mainCtrl.rpcConnected || $mainCtrl.rpcError" class="disabled"><i class="fa fa-fw fa-share"></i></button></td>
                            
                            <td class="printCol text-center"><button class="btn btn-link" title="Print paper wallets" ng-click="$fundCtrl.createPaperWallets(project.id)" ng-disabled="!project.fundsSent"><i class="fa fa-fw fa-print"></i></button></td>
                            
                            <td class="editCol text-center"><button class="btn btn-link" title="Edit project" ng-click="$fundCtrl.edit(project.id)"><i class="fa fa-fw fa-cog"></i></button></td>
                        </tr>
                        <tr>
                            <td colspan="9" class="addrCol">
                                <strong>Project Address:</strong> {{project.addressPair.publicKey}}<br />
                                <strong>Private Key:</strong> <button class="btn btn-link" title="Show/hide private key" ng-click="$mainCtrl.showPK(project.id)"><i class="fa fa-fw fa-eye" aria-hidden="false" title="Show private key" ng-show="!project.showPrivateKey"></i> <i class="fa fa-fw fa-eye-slash" aria-hidden="false" title="Hide private key" ng-show="project.showPrivateKey"></i></button> 
                                {{project.addressPair.privateKey | hidePrivateKey: project.showPrivateKey}}
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>
</div>